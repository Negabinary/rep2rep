typeSystem geometry =
    types _:line, _:point, _:rect, value
    
    order line < value, rect < value

conSpec geometryG:geometry = 
    concat : [line, line] -> line,
    join : [point, point] -> line,
    end : [line] -> point,
    start : [line] -> point,
    intersect : [line, line] -> point,
    left : [line] -> line,
    right : [line] -> line,
    mkrect : [line, line] -> rect,
    joinrect : [rect, rect] -> rect