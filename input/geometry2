typeSystem geometry =
    types _:line, _:point, _:rect, value, _:angle
    
    order line < value, rect < value, angle < value

conSpec geometryG:geometry = 
    concat : [line, line] -> line,
    join : [point, point] -> line,
    end : [line] -> point,
    start : [line] -> point,
    intersect : [line, line] -> point,
    mkrect : [line, line] -> rect,
    divrect : [rect, line] -> line,
    joinrect : [rect, rect] -> rect,
    moveline : [line, line] -> line,
    rotline : [line, angle] -> line,
    anglebetween : [line, line] -> angle,
    joinangle : [angle, angle] -> angle
